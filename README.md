# Шаблон производитель-потребитель

В программе несколько продюсеров производят товары и несколько консумеров потребляют товары.
Сначала запускается 2 горутины продьюсера, потом запускаются 3 горутины консумера. Продюсер в горутине передают данные 
на общий канал который называется буфером `buffer := make(chan int, bufferSize)` вот так `buffer <- item`. 
Консумер обрабатывает канал ``for item := range buffer {``. По  выводу видно что потреблениие консумером произвродится
сразу же после производства
````
go run main.go
=== Паттер producer-consumer ===
Продюсер 1 произвёл: 34
Продюсер 2 произвёл: 46
Потребитель 1 потребил: 34
Потребитель 3 потребил: 46
Продюсер 2 произвёл: 43
Потребитель 2 потребил: 43
Продюсер 1 произвёл: 60
Потребитель 3 потребил: 60
Продюсер 1 произвёл: 73
Потребитель 1 потребил: 73
Продюсер 2 произвёл: 53
Потребитель 3 потребил: 53
Продюсер 2 произвёл: 0
Потребитель 2 потребил: 0
Продюсер 1 произвёл: 30
Потребитель 2 потребил: 30
Продюсер 2 произвёл: 8
Потребитель 3 потребил: 8
Продюсер 2 произвёл: 69
Потребитель 1 потребил: 69
Продюсер 1 произвёл: 68
Потребитель 2 потребил: 68
Продюсер 2 произвёл: 80
Потребитель 3 потребил: 80
Продюсер 1 произвёл: 48
Потребитель 1 потребил: 48
Продюсер 2 произвёл: 58
Потребитель 2 потребил: 58
Продюсер 1 произвёл: 12
Потребитель 1 потребил: 12
Продюсер 1 произвёл: 60
Потребитель 3 потребил: 60
Продюсер 2 произвёл: 24
Потребитель 1 потребил: 24
Потребитель 1 потребил: 16
Продюсер 1 произвёл: 16
Продюсер 2 произвёл: 91
Потребитель 2 потребил: 91
Продюсер 1 произвёл: 14
Потребитель 3 потребил: 14
Продюсер-Консумер завершены

````
Завершение выполнение каналов происходит со стороны продюсера когда сразу же после выполнения горутины вызывается
`defer wg.Done()`, уменьшение количества выполняемых горутин и идёт ожидание завершения группы горутин консумера
``wg.Wait()`` и выполняется `close(buffer)` и далее уже ожидается завершение группы консумера `consumerWg.Wait()`
